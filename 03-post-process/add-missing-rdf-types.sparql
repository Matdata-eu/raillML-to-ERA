PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# Add missing rdf:type declarations to RDF List nodes
# SHACL validation requires all resources to have at least one rdf:type

INSERT {
  ?list a rdf:List .
}
WHERE {
  # Find all RDF list nodes (they have rdf:first and rdf:rest properties)
  ?list rdf:first ?firstElement ;
        rdf:rest ?rest .
  
  # Only add type if not already present
  FILTER NOT EXISTS { ?list a rdf:List }
}
